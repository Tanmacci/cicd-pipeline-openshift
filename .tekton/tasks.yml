apiVersion: tekton.dev/v1
kind: Task
metadata:
  name: lint-with-flake8
spec:
  steps:
    - name: run-flake8
      image: python:3.10
      script: |
        #!/bin/sh
        pip install --upgrade pip
        pip install flake8
        echo "Running flake8..."
        flake8 .

---
apiVersion: tekton.dev/v1
kind: Task
metadata:
  name: run-unit-tests-with-nose
spec:
  steps:
    - name: run-nose-tests
      image: python:3.10
      script: |
        #!/bin/sh
        pip install --upgrade pip
        pip install nose
        echo "Running unit tests with nose..."
        nosetests --verbose
